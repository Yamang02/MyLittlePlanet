# PRD: 왕의 행성 격투게임

## 문서 정보
- **프로젝트명**: 어린왕자 - 왕의 행성
- **문서 타입**: Product Requirements Document (PRD)
- **버전**: v1.0
- **작성일**: 2025년 1월 29일
- **대상 게임**: 시리즈 첫 번째 게임 (Phaser3 학습용)

## 1. 게임 개요

### 1.1 핵심 컨셉
어린왕자 원작의 "왕의 행성"을 배경으로 한 2D 아케이드 스타일 격투게임. 왕의 권위가 점차 무너지는 과정을 게임 메커니즘으로 표현하여, 원작의 철학적 메시지를 전달합니다.

### 1.2 게임 장르
- **주 장르**: 2D 아케이드 격투게임
- **부 장르**: 스토리 기반 보스전 게임
- **플레이 시간**: 3-7분 (1회 플레이)

### 1.3 핵심 메시지
"진정한 권위는 명령이 아닌 이해에서 나온다" - 왕의 허세가 무너져가는 과정을 통해 권력의 본질에 대해 탐구

## 2. 타겟 사용자 & 사용자 여정

### 2.1 주요 타겟
- **연령대**: 10-30대
- **게임 경험**: 캐주얼 게이머 (복잡한 조작 선호하지 않음)
- **동기**: 어린왕자 IP에 대한 관심, 짧은 게임 경험 선호

### 2.2 사용자 여정
1. **진입**: 어린왕자 시리즈 메인 화면에서 "왕의 행성" 선택
2. **학습**: 간단한 조작법 안내 (3개 버튼: 이동, 회피, 패링)
3. **경험**: 3페이즈 보스전을 통한 스토리 체험
4. **완료**: 엔딩 후 다음 행성으로 이동 또는 재플레이

## 3. 게임 메커니즘 상세 설계

### 3.1 기본 조작법
- **이동**: ←/→ 화살표 키 (좌우 이동만)
- **회피**: 스페이스바 (짧은 무적 시간)
- **패링**: Z키 (타이밍 기반, 성공 시 공격 반사)

### 3.2 플레이어 캐릭터 (어린왕자)
- **체력**: 3칸 (하트 형태로 표시)
- **이동속도**: 중간 정도 (왕의 공격을 피할 수 있을 정도)  
- **레이피어**: 패링 성공 시 시각적 효과 표시
- **체력 회복**: 특정 말풍선 패링 성공 또는 패링 콤보 달성 시 하트 아이템 드롭

### 3.3 패링 시스템 상세
- **조작 방식**: Z키를 타이밍에 맞춰 한 번 누르기
- **패링 성공**: 말풍선이 왕에게 반사되어 데미지 + 콤보 카운트 증가
- **패링 실패**: 어린왕자가 피격 + 짧은 경직 시간 (0.5초)
- **연속 패링**: 가능 (쿨다운 없음)
- **콤보 시스템**: 연속 패링 성공 시 콤보 카운트, 일정 수준 도달 시 체력 회복 아이템

### 3.4 보스 캐릭터 (왕) - 3페이즈 구성

#### 페이즈 1: 권위적인 왕 (체력 100%-60%) - "일반" 패턴
**공격 패턴 기준:**
- **공격 간격**: 2-3초
- **말풍선 개수**: 1-2개 동시 발사
- **이동 속도**: 보통 속도
- **대표 공격**:
  - "앉아라!" - 위에서 아래로
  - "일어나라!" - 아래에서 위로  
  - "이리오너라!" - 좌우에서 중앙으로

#### 페이즈 2: 분노하는 왕 (체력 60%-20%) - "레이지" 패턴  
**공격 패턴 변화:**
- **공격 간격**: 1-1.5초 (더 빠름)
- **말풍선 개수**: 2-4개 동시 발사 (더 많음)
- **이동 속도**: 빠른 속도
- **대표 공격**:
  - "엎드려라!" - 연속 3발
  - "네가 감히!" - 4방향 동시 공격
  - "명령이다!" - 무작위 방향 연사

#### 페이즈 3: 무력한 왕 (체력 20%-0%) - "부탁(무력)" 패턴
**공격 패턴 약화:**
- **공격 간격**: 3-4초 (더 느림)
- **말풍선 개수**: 1개씩 단발 (더 적음)  
- **이동 속도**: 느린 속도
- **특수 기믹**: 패링 시 말풍선이 흩어져 사라짐 (왕의 체력은 말풍선이 사라질 때마다 줄어듦)
- **대표 공격**:
  - "가까이...오거라" - 약한 단발
  - "부탁하마..." - 매우 느린 속도
  - "떠나지..말거라" - 간헐적 단발

### 3.4 말풍선 공격 시스템
- **시각적 디자인**: 페이즈별로 다른 색상과 크기
  - 페이즈 1: 네모 (명령조)
  - 페이즈 2: 스파이크형 (강한 명령)
  - 페이즈 3: 동그라미, 구름형 , 작고 흐릿한 색 (간청조)
- **패링 성공 시**: 말풍선이 왕에게 되돌아가며 데미지
- **패링 실패 시**: 어린왕자가 데미지 받음

## 4. 사용자 인터페이스 설계

### 4.1 게임 화면 레이아웃 (2D 격투게임 스타일)
```
[어린왕자 체력 ♥♥♥]              [왕의 체력바 ████████████] 

                   격투 스테이지                    

[어린왕자]                                    [왕 캐릭터]
좌우 이동 가능    ← 말풍선 공격 패턴 →    제한적 이동 + 공격

         [조작키 가이드 - 하단 중앙]
```

**레이아웃 상세:**
- **격투 스테이지**: 왕의 행성 배경, 양쪽 끝에 보이지 않는 벽
- **어린왕자**: 스테이지 전체에서 좌우 자유 이동
- **왕**: 스테이지 우측 1/3 영역에서 제한적 이동 (왕좌 중심)
- **어린왕자 체력**: 화면 좌상단 하트 3개
- **왕 체력바**: 화면 우상단 긴 바 형태

### 4.2 UI 요소들
- **어린왕자 체력**: 화면 좌상단 하트 3개
- **왕 체력바**: 화면 우상단 긴 바 (페이즈별 색상 변화)
- **말풍선**: 왕의 위치에서 발사되어 어린왕자를 추적하는 투사체
- **패링 성공 표시**: 반짝이는 효과와 함께 "Perfect!" 텍스트
- **콤보 카운터**: 화면 상단 중앙에 표시

### 4.3 조작법 안내 (2D 격투게임 스타일)
게임 시작 시 3초간 표시:
- ←→: 좌우 이동 (스테이지 내 자유 이동)
- Space: 회피/대시 (짧은 무적 시간 + 빠른 이동)
- Z: 패링 (타이밍 맞춰 말풍선 반사)

### 4.4 왕의 이동 패턴
- **기본 위치**: 왕좌 (스테이지 우측)
- **이동 범위**: 왕좌 중심 반경 내 제한적 이동
- **페이즈별 변화**:
  - 페이즈 1: 왕좌에서 거의 움직이지 않음
  - 페이즈 2: 불안해하며 왕좌 주변을 움직임  
  - 페이즈 3: 왕좌에서 내려와 어린왕자 쪽으로 다가옴

## 5. 스토리텔링 & 연출

### 5.1 오프닝 (10초)
- 왕이 왕좌에 앉아 있는 모습
- "나는 이 행성의 왕이다!" 대사
- 어린왕자 등장: "안녕하세요"
- 왕: "무릎을 꿇어라!" → 전투 시작

### 5.2 페이즈 전환 연출
- **1→2 페이즈**: 왕의 표정 변화, "어? 너는..."
- **2→3 페이즈**: 왕좌가 흔들림, "제발..."
- **승리 시**: 왕이 고개 숙임, "나는... 외로웠을 뿐이야"

### 5.3 엔딩 (15초)
- 어린왕자가 왕에게 다가감
- "진정한 왕은 명령하지 않아요"
- 왕이 미소를 지으며 "고맙구나, 어린 친구야"
- 다음 행성으로 이동하는 연출

## 6. 오디오 설계

### 6.1 BGM: Orchestral Cinematic (음악만)
- **페이즈 1**: 웅장하고 위엄있는 오케스트라
- **페이즈 2**: 점차 불안해지는 선율 (템포 증가)
- **페이즈 3**: 슬프고 조용한 스트링 선율
- **엔딩**: 따뜻하고 희망적인 멜로디

### 6.2 효과음 (음성 없음, 효과음만)
- **말풍선 발사**: "Woosh!" 소리 (페이즈별 톤 차이)
- **패링 성공**: "Ting!" + 반향음
- **패링 실패**: "Thud!" + 짧은 경직음
- **콤보 달성**: "Chime!" 소리
- **체력 회복**: 따뜻한 "Ding!" 소리

### 6.3 텍스트 대사 (음성 없음)
- **모든 대사는 텍스트로만 표시**
- **페이즈별 폰트 크기/색상 변화**:
  - 페이즈 1: 큰 굵은 글씨 (위엄적)
  - 페이즈 2: 중간 크기, 떨림 효과 (불안함)  
  - 페이즈 3: 작고 흐릿한 글씨 (무력함)

## 7. 기술적 요구사항

### 7.1 Phaser3 구현 요소
- **Scene 관리**: 오프닝 → 게임플레이 → 엔딩
- **Sprite 애니메이션**: 캐릭터 동작, 말풍선 효과
- **Physics**: 충돌 감지 (말풍선과 플레이어)
- **Input 처리**: 키보드 입력 및 타이밍 계산
- **Audio**: BGM 및 효과음 재생

### 7.2 아트 에셋 요구사항 (AI 생성 고퀄리티)
- **캐릭터**: 고퀄리티 도트 아트 (64x64 권장, AI 생성 후 다운스케일링)
- **배경**: 왕의 행성 배경 (왕좌, 별이 빛나는 우주, 고급스러운 느낌)
- **말풍선**: 페이즈별 다양한 크기/색상/스타일의 말풍선
- **UI**: 고퀄리티 픽셀 아트 스타일 UI (하트, 버튼, 프레임 등)
- **이펙트**: 패링 성공 시 반짝임, 콤보 이펙트, 체력 회복 이펙트

### 7.3 게임 설정 및 기능
- **세이브/로드**: 불가능 (매번 처음부터 시작)
- **최고 기록**: LocalStorage에 저장 (추후 통합 플랫폼 고려)
  - 최단 클리어 시간
  - 최대 콤보 수
  - 완료 횟수
- **설정 메뉴**: 필수 구현
  - BGM 볼륨 조절 (0-100%)
  - 효과음 볼륨 조절 (0-100%)  
  - 풀스크린 토글
  - 조작키 설정 (키보드 리맵핑)

### 7.4 성능 목표
- **프레임레이트**: 60 FPS 유지
- **로딩 시간**: 3초 이내
- **메모리 사용량**: 50MB 이하

## 8. 사용자 스토리 & 수용 기준

### 8.1 핵심 사용자 스토리

**US-01: 기본 조작 학습**
- **스토리**: 사용자로서 게임 시작 시 조작법을 쉽게 배우고 싶다
- **수용 기준**:
  - 게임 시작 시 조작법이 3초간 표시됨
  - 첫 번째 공격이 충분히 느려서 연습할 수 있음
  - 잘못된 조작 시 힌트가 표시됨

**US-02: 페이즈별 변화 체감**
- **스토리**: 플레이어로서 왕의 변화를 명확히 느끼고 싶다
- **수용 기준**:
  - 각 페이즈마다 왕의 외형/자세가 변화함
  - 말풍선의 색상과 크기가 달라짐
  - BGM이 페이즈에 맞게 변화함

**US-03: 패링 시스템 만족감**
- **스토리**: 플레이어로서 완벽한 패링 시 만족감을 느끼고 싶다
- **수용 기준**:
  - 패링 성공 시 시각적 피드백 (반짝임 효과)
  - 청각적 피드백 ("Ting!" 소리)
  - 말풍선이 왕에게 되돌아가는 애니메이션

**US-04: 스토리 몰입**
- **스토리**: 플레이어로서 어린왕자의 세계관에 몰입하고 싶다
- **수용 기준**:
  - 원작의 대사가 적절한 타이밍에 등장
  - 캐릭터의 감정 변화가 시각적으로 표현됨
  - 엔딩에서 의미있는 메시지 전달

## 9. 성공 지표

### 9.1 기능적 지표
- **완주율**: 85% 이상 (5분 게임이므로 높은 완주율 기대)
- **재플레이율**: 30% 이상
- **평균 플레이 시간**: 4-6분

### 9.2 학습 목표 달성 지표
- **Phaser3 Scene 관리**: 3개 Scene 완벽 구현
- **애니메이션 시스템**: 10개 이상의 스프라이트 애니메이션
- **입력 처리**: 정확한 타이밍 기반 입력 시스템
- **오디오 통합**: BGM과 효과음의 완벽한 동기화

### 9.3 포트폴리오 목표
- **코드 품질**: 재사용 가능한 컴포넌트 구조
- **문서화**: 코드 주석 및 README 완성
- **시연 가능**: 3분 내 게임 핵심 기능 시연 가능

## 10. 개발 일정 (1주)

### Day 1-2: 기본 구조 및 Scene 설정
- Phaser3 프로젝트 초기화
- 게임 Scene 구조 설계
- 기본 캐릭터 이동 구현

### Day 3-4: 공격 시스템
- 말풍선 공격 패턴 구현
- 패링 시스템 개발
- 충돌 감지 시스템

### Day 5-6: 페이즈 시스템 & 연출
- 3페이즈 보스 AI 구현
- 페이즈 전환 연출
- BGM 및 효과음 통합

### Day 7: 마무리 & 테스트
- 밸런싱 조정
- 버그 수정 및 최적화
- 빌드 및 배포 준비

## 11. 위험 요소 & 대응책

### 11.1 기술적 위험
- **위험**: Phaser3 애니메이션 시스템 복잡도
- **대응**: 간단한 Tween 애니메이션부터 시작, 복잡한 것은 후순위

### 11.2 디자인 위험
- **위험**: 패링 타이밍이 너무 어려워질 수 있음
- **대응**: 관대한 타이밍 윈도우 설정 (0.3초 내외)

### 11.3 일정 위험
- **위험**: 3페이즈 보스 AI가 예상보다 복잡할 수 있음
- **대응**: 1페이즈만으로도 완성된 게임이 되도록 설계

## 12. 추후 개선 사항

### 12.1 추가 기능 아이디어
- 난이도 선택 (쉬움/보통/어려움)
- 히든 엔딩 (완벽한 패링으로만 클리어)
- 캐릭터 커스터마이징

### 12.2 기술적 확장
- 모바일 터치 조작 지원
- 리더보드 시스템
- 다국어 지원

---

**이 PRD는 첫 번째 게임인 "왕의 행성"의 완전한 구현 가이드입니다. Phaser3 학습과 포트폴리오 구축이라는 목표에 맞춰 적절한 복잡도로 설계되었습니다.**